# ğŸŒ RegionSelectModal - åœ°åŒºé€‰æ‹©æ¨¡æ€æ¡†

> **çŠ¶æ€**: âœ… å®Œæˆ  
> **æ ·å¼**: ğŸ¨ 100%å¤åˆ»Flutter  
> **éš¾åº¦**: â­â­â­â­â­ (æœ€é«˜)

---

## ğŸ“‹ åŠŸèƒ½ç‰¹æ€§

- âœ… åº•éƒ¨æŠ½å±‰æ ·å¼ï¼ˆModal + æ»‘åŠ¨åŠ¨ç”»ï¼‰
- âœ… æœç´¢åŠŸèƒ½ï¼ˆå®æ—¶è¿‡æ»¤ï¼‰
- âœ… çƒ­é—¨åœ°åŒºæ¨èï¼ˆå¸¸ç”¨å›½å®¶ï¼‰
- âœ… åˆ†ç»„åˆ—è¡¨ï¼ˆæŒ‰é¦–å­—æ¯A-Zï¼‰
- âœ… ç²˜æ€§æ ‡é¢˜ï¼ˆSticky Section Headersï¼‰
- âœ… é€‰ä¸­çŠ¶æ€é«˜äº®
- âœ… ç©ºçŠ¶æ€æç¤º
- âœ… 14ä¸ªå›½å®¶/åœ°åŒºæ”¯æŒ

---

## ğŸ’» ä½¿ç”¨æ–¹æ³•

### åŸºç¡€ä½¿ç”¨
```typescript
import { RegionSelectModal } from '@/src/features/AuthModule/LoginMainPage/components';

function LoginPage() {
  const [visible, setVisible] = useState(false);
  const [selectedCode, setSelectedCode] = useState('+86');
  
  const handleSelect = (country: Country) => {
    setSelectedCode(country.code);
  };
  
  return (
    <>
      <TouchableOpacity onPress={() => setVisible(true)}>
        <Text>{selectedCode}</Text>
      </TouchableOpacity>
      
      <RegionSelectModal
        visible={visible}
        onClose={() => setVisible(false)}
        onSelect={handleSelect}
        selectedCode={selectedCode}
      />
    </>
  );
}
```

---

## ğŸ“Š Propsæ¥å£

| Props | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|-------|------|------|------|
| `visible` | `boolean` | âœ… | æ¨¡æ€æ¡†æ˜¾ç¤ºçŠ¶æ€ |
| `onClose` | `() => void` | âœ… | å…³é—­å›è°ƒ |
| `onSelect` | `(country: Country) => void` | âœ… | é€‰æ‹©å›è°ƒ |
| `selectedCode` | `string` | âŒ | å½“å‰é€‰ä¸­çš„åŒºå· |

---

## ğŸ¨ ç»„ä»¶æ¶æ„

```
RegionSelectModal (æ¨¡æ€æ¡†å®¹å™¨)
â”œâ”€â”€ Overlay (åŠé€æ˜é®ç½©)
â”œâ”€â”€ ModalContainer (åº•éƒ¨æŠ½å±‰)
â”‚   â”œâ”€â”€ Header (é¡¶éƒ¨å¯¼èˆªæ )
â”‚   â”‚   â”œâ”€â”€ Title (æ ‡é¢˜)
â”‚   â”‚   â””â”€â”€ CloseButton (å…³é—­æŒ‰é’®)
â”‚   â”œâ”€â”€ SearchBar (æœç´¢æ )
â”‚   â”‚   â”œâ”€â”€ SearchIcon (æœç´¢å›¾æ ‡)
â”‚   â”‚   â”œâ”€â”€ TextInput (è¾“å…¥æ¡†)
â”‚   â”‚   â””â”€â”€ ClearButton (æ¸…é™¤æŒ‰é’®)
â”‚   â”œâ”€â”€ HotCountries (çƒ­é—¨åœ°åŒº)
â”‚   â”‚   â””â”€â”€ HotItem Ã— 6 (çƒ­é—¨é¡¹)
â”‚   â””â”€â”€ SectionList (åˆ†ç»„åˆ—è¡¨)
â”‚       â”œâ”€â”€ SectionHeader (åˆ†ç»„æ ‡é¢˜ A-Z)
â”‚       â””â”€â”€ CountryItem (å›½å®¶é¡¹)
â”‚           â”œâ”€â”€ Flag (å›½æ——)
â”‚           â”œâ”€â”€ CountryInfo (åç§°+è‹±æ–‡)
â”‚           â””â”€â”€ Code (åŒºå·)
```

---

## ğŸ› ï¸ å·¥å…·å‡½æ•°

### getFirstLetter(nameEn)
è·å–è‹±æ–‡åé¦–å­—æ¯
```typescript
getFirstLetter('China')  // 'C'
getFirstLetter('United States')  // 'U'
```

### groupCountries(countries)
æŒ‰é¦–å­—æ¯åˆ†ç»„å›½å®¶åˆ—è¡¨
```typescript
groupCountries(COUNTRIES)
// [
//   { title: 'A', data: [...] },
//   { title: 'C', data: [...] },
//   ...
// ]
```

### filterCountries(countries, keyword)
è¿‡æ»¤å›½å®¶åˆ—è¡¨ï¼ˆæ”¯æŒä¸­æ–‡ã€è‹±æ–‡ã€åŒºå·ï¼‰
```typescript
filterCountries(COUNTRIES, 'ç¾å›½')  // [USA]
filterCountries(COUNTRIES, 'united')  // [USA, UK]
filterCountries(COUNTRIES, '+86')  // [China]
```

### getHotCountries(countries)
è·å–çƒ­é—¨åœ°åŒºåˆ—è¡¨
```typescript
getHotCountries(COUNTRIES)  // è¿”å› popular: true çš„å›½å®¶
```

---

## ğŸ“ æ”¯æŒçš„å›½å®¶/åœ°åŒº

| åºå· | ä¸­æ–‡å | è‹±æ–‡å | åŒºå· | å›½æ—— | æ˜¯å¦çƒ­é—¨ |
|------|--------|--------|------|------|----------|
| 1 | ä¸­å›½å¤§é™† | China | +86 | ğŸ‡¨ğŸ‡³ | âœ… |
| 2 | ä¸­å›½é¦™æ¸¯ | Hong Kong | +852 | ğŸ‡­ğŸ‡° | âœ… |
| 3 | ä¸­å›½æ¾³é—¨ | Macao | +853 | ğŸ‡²ğŸ‡´ | âŒ |
| 4 | ä¸­å›½å°æ¹¾ | Taiwan | +886 | ğŸ‡¹ğŸ‡¼ | âœ… |
| 5 | ç¾å›½ | United States | +1 | ğŸ‡ºğŸ‡¸ | âœ… |
| 6 | æ—¥æœ¬ | Japan | +81 | ğŸ‡¯ğŸ‡µ | âœ… |
| 7 | éŸ©å›½ | South Korea | +82 | ğŸ‡°ğŸ‡· | âœ… |
| 8 | è‹±å›½ | United Kingdom | +44 | ğŸ‡¬ğŸ‡§ | âŒ |
| 9 | æ³•å›½ | France | +33 | ğŸ‡«ğŸ‡· | âŒ |
| 10 | å¾·å›½ | Germany | +49 | ğŸ‡©ğŸ‡ª | âŒ |
| 11 | æ¾³å¤§åˆ©äºš | Australia | +61 | ğŸ‡¦ğŸ‡º | âŒ |
| 12 | åŠ æ‹¿å¤§ | Canada | +1 | ğŸ‡¨ğŸ‡¦ | âŒ |
| 13 | æ–°åŠ å¡ | Singapore | +65 | ğŸ‡¸ğŸ‡¬ | âŒ |
| 14 | é©¬æ¥è¥¿äºš | Malaysia | +60 | ğŸ‡²ğŸ‡¾ | âŒ |

**çƒ­é—¨åœ°åŒº**: 6ä¸ªï¼ˆä¸­å›½å¤§é™†ã€é¦™æ¸¯ã€å°æ¹¾ã€ç¾å›½ã€æ—¥æœ¬ã€éŸ©å›½ï¼‰

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯1: æ‰“å¼€æ¨¡æ€æ¡†
1. ç‚¹å‡»è§¦å‘æŒ‰é’®
2. æ¨¡æ€æ¡†ä»åº•éƒ¨æ»‘å…¥
3. æ˜¾ç¤ºåŠé€æ˜é®ç½©
4. æ˜¾ç¤ºæ ‡é¢˜"é€‰æ‹©å›½å®¶/åœ°åŒº"
5. æ˜¾ç¤ºæœç´¢æ 
6. æ˜¾ç¤ºçƒ­é—¨åœ°åŒºï¼ˆ6ä¸ªï¼‰
7. æ˜¾ç¤ºåˆ†ç»„åˆ—è¡¨

### åœºæ™¯2: æœç´¢åŠŸèƒ½
1. åœ¨æœç´¢æ è¾“å…¥"ä¸­å›½"
2. å®æ—¶è¿‡æ»¤æ˜¾ç¤ºç›¸å…³åœ°åŒº
3. æ˜¾ç¤ºæ¸…é™¤æŒ‰é’®
4. ç‚¹å‡»æ¸…é™¤æŒ‰é’®ï¼Œæ¢å¤å®Œæ•´åˆ—è¡¨

### åœºæ™¯3: é€‰æ‹©çƒ­é—¨åœ°åŒº
1. ç‚¹å‡»çƒ­é—¨åœ°åŒºä¸­çš„"ä¸­å›½å¤§é™†"
2. é€‰ä¸­çŠ¶æ€é«˜äº®ï¼ˆç´«è‰²èƒŒæ™¯ï¼‰
3. è§¦å‘onSelectå›è°ƒ
4. æ¨¡æ€æ¡†è‡ªåŠ¨å…³é—­

### åœºæ™¯4: é€‰æ‹©åˆ—è¡¨é¡¹
1. æ»šåŠ¨åˆ°å­—æ¯"J"åˆ†ç»„
2. ç‚¹å‡»"æ—¥æœ¬"
3. è§¦å‘onSelectå›è°ƒ
4. æ¨¡æ€æ¡†è‡ªåŠ¨å…³é—­

### åœºæ™¯5: ç©ºçŠ¶æ€
1. æœç´¢"ä¸å­˜åœ¨çš„å›½å®¶"
2. æ˜¾ç¤º"æœªæ‰¾åˆ°ç›¸å…³åœ°åŒº"æç¤º

---

## ğŸš€ æ€§èƒ½ä¼˜åŒ–

1. **React.memo**: CountryItemä½¿ç”¨memoé¿å…é‡æ¸²æŸ“
2. **useMemo**: è¿‡æ»¤å’Œåˆ†ç»„ç»“æœç¼“å­˜
3. **useCallback**: å›è°ƒå‡½æ•°ç¼“å­˜
4. **è™šæ‹Ÿåˆ—è¡¨**: SectionListæ”¯æŒå¤§é‡æ•°æ®
5. **ç²˜æ€§æ ‡é¢˜**: stickySectionHeadersEnabledä¼˜åŒ–æ»šåŠ¨

---

**åˆ›å»ºæ—¶é—´**: 2025-10-23  
**ä»£ç è¡Œæ•°**: 430è¡Œ  
**å¤åˆ»åº¦**: ğŸ¨ 100%  
**éš¾åº¦**: â­â­â­â­â­

