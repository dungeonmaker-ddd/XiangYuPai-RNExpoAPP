# StatusPage - 状态管理页面

## 📋 功能概述

状态管理页面允许用户设置自己的接单状态，包括：
- **在线接单**：立即接受订单
- **预约接单**：设置延迟时间后接单
- **暂不接单**：暂时不接受订单

## 🎯 主要功能

### 1. 状态选择
- ✅ 在线接单
- ✅ 预约接单
- ✅ 暂不接单

### 2. 时间设置（预约接单/暂不接单时可用）
- 10分钟后
- 20分钟后
- 30分钟后
- 1小时后
- 1.5小时后

### 3. 操作按钮
- **取消**：放弃更改，返回上一页
- **保存**：保存状态设置，返回上一页

## 📁 文件结构

```
src/features/Profile/StatusPage/
├── index.tsx           # 状态管理页面主组件
└── README.md          # 本文档

app/profile/
└── my-status.tsx      # 路由文件
```

## 🔗 路由配置

- **路由路径**：`/profile/my-status`
- **导航方式**：从"我的"页面点击"状态"菜单项进入

## 🎨 UI 设计

### 顶部导航栏
- 左侧：取消按钮（灰色）
- 中间：标题"状态"
- 右侧：保存按钮（紫色）

### 状态选项区域
- 白色背景卡片
- 单选按钮（圆形）
- 选中状态显示紫色

### 时间选项区域
- 仅在选择"预约接单"或"暂不接单"时显示
- 顶部显示"预约"和"确定"标签
- 单选按钮样式与状态选项一致

## 🔄 交互逻辑

1. **状态选择**：
   - 点击状态选项，更新选中状态
   - 选择"在线接单"时，自动清除时间选择
   - 选择"预约接单"或"暂不接单"时，显示时间选项

2. **时间选择**：
   - 仅在"预约接单"或"暂不接单"状态下可选
   - 点击时间选项，更新选中时间

3. **保存操作**：
   - 点击"保存"按钮，保存当前选择
   - 控制台输出选择的状态和时间
   - 返回上一页

4. **取消操作**：
   - 点击"取消"按钮，放弃更改
   - 直接返回上一页

## 🔌 API 集成（待实现）

```typescript
// TODO: 调用后端 API 保存状态
await updateUserStatus({
  status: selectedStatus,      // 'online' | 'appointment' | 'offline'
  delayMinutes: selectedTime,  // 延迟分钟数（可选）
});
```

## 📝 使用示例

```typescript
// 从"我的"页面导航到状态管理页面
router.push('/profile/my-status');
```

## 🎯 后续优化

1. **API 集成**：连接后端接口，保存用户状态
2. **状态持久化**：使用 Zustand store 管理状态
3. **状态显示**：在"我的"页面显示当前状态
4. **状态提醒**：到达预约时间时发送通知
5. **状态历史**：记录状态变更历史

## 📊 状态数据结构

```typescript
interface UserStatus {
  status: 'online' | 'appointment' | 'offline';
  delayMinutes?: number;
  updatedAt: string;
}
```

## 🎨 设计规范

- **主色调**：紫色 (#8B5CF6)
- **背景色**：浅灰 (#F5F5F5)
- **卡片背景**：白色 (#FFFFFF)
- **文字颜色**：深灰 (#1F2937)
- **辅助文字**：中灰 (#6B7280)
- **边框颜色**：浅灰 (#E5E7EB)

## ✅ 完成状态

- ✅ 页面 UI 实现
- ✅ 状态选择逻辑
- ✅ 时间选择逻辑
- ✅ 路由配置
- ✅ 导航集成
- ⏳ API 集成（待实现）
- ⏳ 状态持久化（待实现）

