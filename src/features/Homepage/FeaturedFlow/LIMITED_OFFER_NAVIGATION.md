# é™æ—¶ä¸“é¡¹å¯¼èˆªæ›´æ–°è¯´æ˜

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

é™æ—¶ä¸“é¡¹åŠŸèƒ½ç°åœ¨è·³è½¬åˆ°ä¸ä¸»è¦åŠŸèƒ½æ¨¡å—ç›¸åŒçš„æœåŠ¡è¯¦æƒ…é¡µé¢ï¼Œä¸»è¦åŒºåˆ«åœ¨äºä»·æ ¼å±•ç¤ºï¼ˆé™æ—¶ä¼˜æƒ ä»·æ ¼ï¼‰ã€‚

## ğŸ”„ å¯¼èˆªæµç¨‹

### ä¹‹å‰çš„æµç¨‹
```
é¦–é¡µé™æ—¶ä¸“é¡¹ â†’ ç”¨æˆ·ä¸ªäººä¸»é¡µ (/profile/[userId])
```

### æ›´æ–°åçš„æµç¨‹
```
é¦–é¡µé™æ—¶ä¸“é¡¹ â†’ æœåŠ¡è¯¦æƒ…é¡µ (/(tabs)/homepage/service-detail)
                â†“
          æ˜¾ç¤ºé™æ—¶ä¼˜æƒ ä»·æ ¼ï¼ˆ8æŠ˜ï¼‰
```

## ğŸ¯ ä¸»è¦å˜æ›´

### 1. MainPage.tsx
- **æ–°å¢**: `handleLimitedOfferPress` å‡½æ•°
  - è·³è½¬åˆ°æœåŠ¡è¯¦æƒ…é¡µ
  - ä¼ é€’ `isLimitedOffer: 'true'` å‚æ•°
  - ä¼ é€’ç”¨æˆ·çš„æœåŠ¡ç±»å‹å’Œç”¨æˆ·ID

```typescript
const handleLimitedOfferPress = useCallback((user: UserCard) => {
  const serviceType = user.services?.[0] || 'honor_of_kings';
  router.push({
    pathname: '/(tabs)/homepage/service-detail',
    params: { 
      serviceType: serviceType,
      isLimitedOffer: 'true',
      userId: user.id,
    },
  });
}, [router]);
```

### 2. ServiceDetailPage/types.ts
- **æ–°å¢**: `ServiceDetailPageProps` æ¥å£å¢åŠ å­—æ®µ
  - `isLimitedOffer?: boolean` - æ ‡è¯†æ˜¯å¦ä¸ºé™æ—¶ä¼˜æƒ 
  - `userId?: string` - å¯é€‰çš„ç‰¹å®šç”¨æˆ·ID

### 3. ServiceDetailPage/index.tsx

#### ä»·æ ¼è®¡ç®—
```typescript
// è®¡ç®—é™æ—¶ä¼˜æƒ ä»·æ ¼ï¼ˆ8æŠ˜ï¼‰
const originalPrice = provider.price || 10;
const discountedPrice = isLimitedOffer ? Math.floor(originalPrice * 0.8) : originalPrice;
```

#### ä»·æ ¼å±•ç¤º
- **æ­£å¸¸æ¨¡å¼**: æ˜¾ç¤ºåŸä»·
- **é™æ—¶ä¼˜æƒ æ¨¡å¼**: 
  - æ˜¾ç¤ºæŠ˜æ‰£ä»·ï¼ˆå¤§å·çº¢è‰²ï¼‰
  - æ˜¾ç¤ºåŸä»·ï¼ˆåˆ é™¤çº¿ï¼‰
  - æ˜¾ç¤º"é™æ—¶"å¾½ç« 

#### å¯¼èˆªæ 
- æ ‡é¢˜æ—è¾¹æ˜¾ç¤º"é™æ—¶ä¼˜æƒ "å¾½ç« 

### 4. FeaturedPage/index.tsx
- **æ›´æ–°**: `handleUserPress` å‡½æ•°
  - è·³è½¬åˆ°æœåŠ¡è¯¦æƒ…é¡µè€Œä¸æ˜¯ç”¨æˆ·ä¸ªäººä¸»é¡µ
  - ä¼ é€’é™æ—¶ä¼˜æƒ å‚æ•°
- **UIæ›´æ–°**: 
  - æ˜¾ç¤º"é™æ—¶"å¾½ç« 
  - æ˜¾ç¤ºæŠ˜æ‰£ä»·æ ¼ï¼ˆ8æŠ˜ï¼‰

## ğŸ’° ä»·æ ¼å±•ç¤ºè§„åˆ™

### é™æ—¶ä¼˜æƒ ä»·æ ¼
- **æŠ˜æ‰£ç‡**: 80%ï¼ˆ8æŠ˜ï¼‰
- **è®¡ç®—æ–¹å¼**: `Math.floor(originalPrice * 0.8)`
- **æ˜¾ç¤ºæ ¼å¼**:
  ```
  [é™æ—¶å¾½ç« ]
  æŠ˜æ‰£ä»· (å¤§å·çº¢è‰²)
  åŸä»· (åˆ é™¤çº¿)
  é‡‘å¸/å±€
  ```

### æ­£å¸¸ä»·æ ¼
- **æ˜¾ç¤ºæ ¼å¼**:
  ```
  ä»·æ ¼ (å¤§å·çº¢è‰²)
  é‡‘å¸/å±€
  ```

## ğŸ¨ è§†è§‰è®¾è®¡

### é™æ—¶å¾½ç« æ ·å¼
```typescript
{
  backgroundColor: '#FF4D4F',
  paddingHorizontal: 8,
  paddingVertical: 3,
  borderRadius: 10,
  fontSize: 11,
  fontWeight: '600',
  color: '#FFFFFF'
}
```

### ä»·æ ¼åŒºåŸŸæ ·å¼
- **æŠ˜æ‰£ä»·**: 20px, ç²—ä½“, #FF4D4F
- **åŸä»·**: 12px, åˆ é™¤çº¿, æµ…ç°è‰²
- **å•ä½**: 11px, æ¬¡è¦æ–‡æœ¬é¢œè‰²

## ğŸ“± ç”¨æˆ·ä½“éªŒ

### é¦–é¡µé™æ—¶ä¸“é¡¹åŒºåŸŸ
1. ç”¨æˆ·ç‚¹å‡»é™æ—¶ä¸“é¡¹å¡ç‰‡
2. è·³è½¬åˆ°å¯¹åº”æœåŠ¡çš„è¯¦æƒ…é¡µ
3. é¡µé¢æ ‡é¢˜æ˜¾ç¤º"é™æ—¶ä¼˜æƒ "å¾½ç« 
4. æ‰€æœ‰æœåŠ¡æä¾›è€…æ˜¾ç¤ºæŠ˜æ‰£ä»·æ ¼

### æŸ¥çœ‹æ›´å¤šé¡µé¢
1. ç”¨æˆ·ç‚¹å‡»"æŸ¥çœ‹æ›´å¤š"
2. è¿›å…¥é™æ—¶ä¸“äº«åˆ—è¡¨é¡µ
3. æ¯ä¸ªå¡ç‰‡æ˜¾ç¤º"é™æ—¶"å¾½ç« å’ŒæŠ˜æ‰£ä»·
4. ç‚¹å‡»å¡ç‰‡è·³è½¬åˆ°æœåŠ¡è¯¦æƒ…é¡µï¼ˆé™æ—¶ä¼˜æƒ æ¨¡å¼ï¼‰

## ğŸ”— ç›¸å…³æ–‡ä»¶

- `src/features/Homepage/MainPage/MainPage.tsx`
- `src/features/Homepage/ServiceFlow/ServiceDetailPage/index.tsx`
- `src/features/Homepage/ServiceFlow/ServiceDetailPage/types.ts`
- `src/features/Homepage/FeaturedFlow/FeaturedPage/index.tsx`

## âœ… æµ‹è¯•è¦ç‚¹

1. âœ“ é¦–é¡µé™æ—¶ä¸“é¡¹å¡ç‰‡ç‚¹å‡»è·³è½¬æ­£ç¡®
2. âœ“ æœåŠ¡è¯¦æƒ…é¡µæ­£ç¡®è¯†åˆ«é™æ—¶ä¼˜æƒ å‚æ•°
3. âœ“ ä»·æ ¼è®¡ç®—æ­£ç¡®ï¼ˆ8æŠ˜ï¼‰
4. âœ“ é™æ—¶å¾½ç« æ˜¾ç¤ºæ­£ç¡®
5. âœ“ åŸä»·æ˜¾ç¤ºåˆ é™¤çº¿
6. âœ“ å¯¼èˆªæ æ˜¾ç¤º"é™æ—¶ä¼˜æƒ "æ ‡è¯†
7. âœ“ æŸ¥çœ‹æ›´å¤šé¡µé¢è·³è½¬æ­£ç¡®

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **ä»·æ ¼è®¡ç®—**: ä½¿ç”¨ `Math.floor()` å‘ä¸‹å–æ•´ï¼Œç¡®ä¿ä»·æ ¼ä¸ºæ•´æ•°
2. **æœåŠ¡ç±»å‹**: ä¼˜å…ˆä½¿ç”¨ç”¨æˆ·çš„ç¬¬ä¸€ä¸ªæœåŠ¡ç±»å‹ï¼Œé»˜è®¤ä¸º `honor_of_kings`
3. **å…¼å®¹æ€§**: ä¿æŒä¸æ­£å¸¸æœåŠ¡è¯¦æƒ…é¡µçš„å®Œå…¨å…¼å®¹
4. **çŠ¶æ€ä¼ é€’**: é€šè¿‡è·¯ç”±å‚æ•°ä¼ é€’ `isLimitedOffer` å’Œ `userId`

## ğŸš€ æœªæ¥ä¼˜åŒ–å»ºè®®

1. å¯ä»¥ä»åç«¯é…ç½®æŠ˜æ‰£ç‡ï¼Œè€Œä¸æ˜¯ç¡¬ç¼–ç  0.8
2. å¯ä»¥æ·»åŠ é™æ—¶å€’è®¡æ—¶åŠŸèƒ½
3. å¯ä»¥æ ¹æ®ä¸åŒæœåŠ¡ç±»å‹è®¾ç½®ä¸åŒçš„æŠ˜æ‰£ç‡
4. å¯ä»¥æ·»åŠ é™æ—¶ä¼˜æƒ çš„æ´»åŠ¨è¯´æ˜é¡µé¢

