# ğŸ  é¦–é¡µæ¨¡å— - åµŒå¥—åŒ–ä¸»å¯¼æ¶æ„

> **åŸºäºé€šç”¨ç»„ä»¶æ¨¡å—åŒ–æ¶æ„æ ¸å¿ƒæ ‡å‡†çš„å®Œæ•´é‡æ„å®ç°**

## ğŸ“ æ¶æ„æ¦‚è§ˆ

```
src/features/Homepage/MainPage/                # é¦–é¡µæ¨¡å—æ ¹ç›®å½•
â”œâ”€â”€ MainPage.tsx                            # âœ¨ ä¸»é¡µé¢ç»„ä»¶ - å…«æ®µå¼ç»“æ„
â”œâ”€â”€ HomeScreen.tsx                          # ğŸ“± é¡µé¢çˆ¶ç»„ä»¶ - å¤‡ç”¨æ–¹æ¡ˆ
â”œâ”€â”€ index.ts                                # ğŸ“¤ ç»Ÿä¸€å¯¼å‡ºå…¥å£
â”œâ”€â”€ types.ts                                # ğŸ“‹ ç±»å‹å®šä¹‰ - æ‰€æœ‰ç›¸å…³ç±»å‹
â”œâ”€â”€ constants.ts                            # âš™ï¸ å¸¸é‡é…ç½® - é¢œè‰²/å°ºå¯¸/æ¸å˜
â”œâ”€â”€ README.md                               # ğŸ“– æœ¬æ–‡æ¡£
â”œâ”€â”€ REFACTOR_SUMMARY.md                     # ğŸ“ é‡æ„æ€»ç»“æ–‡æ¡£
â”‚
â”œâ”€â”€ ğŸ“¦ ç»„ä»¶å¯¼å‡ºå±‚
â”‚   â””â”€â”€ components/index.ts                 # ç»Ÿä¸€å¯¼å‡ºæ‰€æœ‰åŒºåŸŸç»„ä»¶
â”‚
â”œâ”€â”€ ğŸ”„ çŠ¶æ€ç®¡ç†å±‚ (ç»Ÿä¸€ç®¡ç†)
â”‚   â”œâ”€â”€ useHomeState.ts                     # é¡µé¢ä¸»çŠ¶æ€ç®¡ç†Hook
â”‚   â”œâ”€â”€ useHomeNavigation.ts                # é¡µé¢å¯¼èˆªç®¡ç†Hook
â”‚   â””â”€â”€ useHomeData.ts                      # é¡µé¢æ•°æ®ç®¡ç†Hook
â”‚
â”œâ”€â”€ HeaderArea/                             # âœ… é¡¶éƒ¨å¯¼èˆªåŒºåŸŸ
â”‚   â””â”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚
â”œâ”€â”€ GameBannerArea/                         # âœ… æ¸¸æˆæ¨å¹¿æ¨ªå¹…åŒºåŸŸ
â”‚   â””â”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚
â”œâ”€â”€ FunctionGridArea/                       # âœ… åŠŸèƒ½æœåŠ¡ç½‘æ ¼åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”œâ”€â”€ processData.ts                      # æ•°æ®å¤„ç†é€»è¾‘
â”‚   â””â”€â”€ utilsLayout.ts                      # å¸ƒå±€å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ LimitedOffersArea/                      # âœ… é™æ—¶ä¸“äº«åŒºåŸŸ
â”‚   â”œâ”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”œâ”€â”€ processData.ts                      # æ•°æ®å¤„ç†é€»è¾‘
â”‚   â””â”€â”€ utilsLayout.ts                      # å¸ƒå±€å·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ TeamPartyArea/                          # âœ… ç»„é˜Ÿèšä¼šåŒºåŸŸ
â”‚   â””â”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚
â”œâ”€â”€ FilterTabsArea/                         # âœ… ç­›é€‰æ ‡ç­¾æ åŒºåŸŸ (å¤æ‚åµŒå¥—)
â”‚   â”œâ”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”œâ”€â”€ processData.ts                      # æ•°æ®å¤„ç†é€»è¾‘
â”‚   â”œâ”€â”€ utilsLayout.ts                      # å¸ƒå±€å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ ä¸‰è§’å½¢.png                          # ä¸‹æ‹‰æŒ‡ç¤ºå›¾æ ‡
â”‚   â”œâ”€â”€ RegionSelector/                     # ğŸ”¸ åœ°åŒºé€‰æ‹©åŠŸèƒ½åŒºåŸŸ
â”‚   â”‚   â”œâ”€â”€ index.tsx                       # åŒºåŸŸä¸»æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚   â”‚   â””â”€â”€ processData.ts                  # æ•°æ®å¤„ç†é€»è¾‘
â”‚   â””â”€â”€ FilterSelector/                     # ğŸ”¸ ç­›é€‰å™¨åŠŸèƒ½åŒºåŸŸ
â”‚       â”œâ”€â”€ index.tsx                       # åŒºåŸŸä¸»æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
â”‚       â””â”€â”€ processData.ts                  # æ•°æ®å¤„ç†é€»è¾‘
â”‚
â””â”€â”€ UserListArea/                           # âœ… ç”¨æˆ·åˆ—è¡¨åŒºåŸŸ (å¤æ‚åµŒå¥—)
    â”œâ”€â”€ index.tsx                           # ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
    â”œâ”€â”€ processData.ts                      # æ•°æ®å¤„ç†é€»è¾‘
    â”œâ”€â”€ utilsLayout.ts                      # å¸ƒå±€å·¥å…·å‡½æ•°
    â””â”€â”€ UserCardComponent/                  # ğŸ”¸ ç”¨æˆ·å¡ç‰‡åŠŸèƒ½åŒºåŸŸ
        â”œâ”€â”€ index.tsx                       # åŒºåŸŸä¸»æ–‡ä»¶ï¼ˆå…«æ®µå¼ï¼‰
        â”œâ”€â”€ processData.ts                  # æ•°æ®å¤„ç†é€»è¾‘
        â””â”€â”€ utilsFormat.ts                  # æ ¼å¼åŒ–å·¥å…·å‡½æ•°
```

## ğŸ¯ æ¶æ„ç‰¹æ€§

### 1. åµŒå¥—åŒ–ä¸»å¯¼æ¶æ„
- âœ… **ç§»é™¤componentsä¸­é—´å±‚**ï¼šæ‰€æœ‰ç»„ä»¶ç›´æ¥åµŒå¥—åœ¨é¡µé¢ä¸‹
- âœ… **åŒºåŸŸåŒ–ç»„ç»‡**ï¼šæŒ‰UIåŠŸèƒ½åŒºåŸŸåˆ’åˆ†ç»„ä»¶æ¶æ„
- âœ… **å¤æ‚åº¦é€‚é…**ï¼šç®€å•åŒºåŸŸæ‰å¹³å®ç°ï¼Œå¤æ‚åŒºåŸŸåµŒå¥—å®ç°

### 2. å…«æ®µå¼ç»“æ„æ ‡å‡†
æ‰€æœ‰ `index.tsx` æ–‡ä»¶ä¸¥æ ¼éµå¾ªå…«æ®µå¼ç»“æ„ï¼š
```typescript
// #region 1. Imports
// #region 2. Types & Schema  
// #region 3. Constants & Config
// #region 4. Utils & Helpers
// #region 5. State Management
// #region 6. Domain Logic
// #region 7. UI Components & Rendering
// #region 8. Exports
```

### 3. èŒè´£åˆ†ç¦»åŸåˆ™
- **processData.ts**ï¼šæ•°æ®å¤„ç†é€»è¾‘
- **utilsLayout.ts**ï¼šå¸ƒå±€å·¥å…·å‡½æ•°
- **utilsFormat.ts**ï¼šæ ¼å¼åŒ–å·¥å…·å‡½æ•°
- **index.tsx**ï¼šç»„ä»¶UIå®ç°å’ŒåŠŸèƒ½ç»„è£…

### 4. ç»Ÿä¸€çŠ¶æ€ç®¡ç†
- **useHomeState.ts**ï¼šé¡µé¢çº§çŠ¶æ€ç®¡ç†
- **useHomeNavigation.ts**ï¼šé¡µé¢çº§å¯¼èˆªç®¡ç†
- **useHomeData.ts**ï¼šé¡µé¢çº§æ•°æ®ç®¡ç†

## ğŸ”§ ä½¿ç”¨è¯´æ˜

### å¯¼å…¥æ–¹å¼
```typescript
// å¯¼å…¥ä¸»é¡µé¢ç»„ä»¶ï¼ˆé»˜è®¤å¯¼å‡ºï¼‰
import MainPage from '@/src/features/Homepage/MainPage';

// æˆ–å¯¼å…¥å‘½åå¯¼å‡º
import { MainPage, HomeScreen } from '@/src/features/Homepage/MainPage';

// å¯¼å…¥ç‰¹å®šåŒºåŸŸç»„ä»¶
import { 
  HeaderArea, 
  FunctionGridArea,
  UserListArea 
} from '@/src/features/Homepage/MainPage';

// å¯¼å…¥Hooks
import { 
  useHomeState, 
  useHomeNavigation, 
  useHomeData 
} from '@/src/features/Homepage/MainPage';

// å¯¼å…¥ç±»å‹å’Œå¸¸é‡
import { 
  UserCard, 
  FunctionItem, 
  LocationInfo,
  COLORS, 
  SCREEN_WIDTH 
} from '@/src/features/Homepage/MainPage';
```

### åŸºç¡€ä½¿ç”¨
```typescript
// åœ¨Expo Routerè·¯ç”±æ–‡ä»¶ä¸­
// app/(tabs)/homepage/index.tsx
import MainPage from '@/src/features/Homepage/MainPage';

export default function HomepageScreen() {
  return <MainPage />;
}

// å¸¦Propsä½¿ç”¨
<MainPage 
  initialFilter="recommend" 
  initialRegion="å—å±±åŒº" 
/>
```

### æ‰©å±•æ–°åŒºåŸŸ
1. åœ¨ `src/screens/home/` ä¸‹åˆ›å»ºæ–°åŒºåŸŸæ–‡ä»¶å¤¹
2. åˆ›å»º `index.tsx` ä¸»ç»„ä»¶æ–‡ä»¶ï¼ˆéµå¾ªå…«æ®µå¼ç»“æ„ï¼‰
3. æ ¹æ®å¤æ‚åº¦åˆ›å»º `processData.ts`ã€`utilsLayout.ts` ç­‰åŠŸèƒ½æ–‡ä»¶
4. åœ¨é¡µé¢çˆ¶ç»„ä»¶ä¸­é›†æˆæ–°åŒºåŸŸ

### ä¿®æ”¹ç°æœ‰åŒºåŸŸ
1. å®šä½åˆ°å¯¹åº”åŒºåŸŸæ–‡ä»¶å¤¹
2. ä¿®æ”¹ `index.tsx` ä¸»ç»„ä»¶æ–‡ä»¶
3. ç›¸å…³ä¸šåŠ¡é€»è¾‘ä¿®æ”¹å¯¹åº”çš„ `processData.ts` ç­‰æ–‡ä»¶
4. ä¿æŒå…«æ®µå¼ç»“æ„å®Œæ•´æ€§

## ğŸ“‹ è´¨é‡æ ‡å‡†

### âœ… æ¶æ„å®Œæ•´æ€§
- [x] æ‰€æœ‰ç»„ä»¶æŒ‰åµŒå¥—åŒ–æ¶æ„ç»„ç»‡
- [x] æ ¸å¿ƒæ–‡ä»¶ï¼ˆindex.tsxã€types.tsã€constants.tsã€README.mdï¼‰å®Œæ•´
- [x] åŠŸèƒ½å±‚æŒ‰éœ€åˆ›å»ºï¼ŒèŒè´£å•ä¸€

### âœ… ä»£ç è§„èŒƒæ€§
- [x] æ‰€æœ‰ä¸»æ–‡ä»¶éµå¾ªå…«æ®µå¼ç»“æ„
- [x] å‘½åè§„èŒƒç»Ÿä¸€ï¼ˆé©¼å³°å‘½åã€è¯­ä¹‰åŒ–ï¼‰
- [x] ç±»å‹å®šä¹‰å®Œæ•´ï¼Œå¸¸é‡å…¨éƒ¨æå–

### âœ… åŠŸèƒ½å®Œæ•´æ€§
- [x] 8ä¸ªä¸»è¦åŠŸèƒ½åŒºåŸŸå…¨éƒ¨å®ç°
- [x] å¤æ‚åŒºåŸŸï¼ˆFilterTabsAreaã€UserListAreaï¼‰åµŒå¥—å®ç°
- [x] çŠ¶æ€ç®¡ç†ã€å¯¼èˆªç®¡ç†ã€æ•°æ®ç®¡ç†åˆ†ç¦»

---

**ç‰ˆæœ¬**: 2.0.0  
**é‡æ„æ—¥æœŸ**: 2024å¹´12æœˆ  
**æ¶æ„æ ‡å‡†**: é€šç”¨ç»„ä»¶æ¨¡å—åŒ–æ¶æ„æ ¸å¿ƒæ ‡å‡†  
**ç»´æŠ¤è€…**: æ¶æ„å›¢é˜Ÿ
