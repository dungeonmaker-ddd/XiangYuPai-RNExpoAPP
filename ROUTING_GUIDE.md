# ğŸ§­ XiangYuPai-RNExpoAPP è·¯ç”±é…ç½®æŒ‡å—

> **å½“å‰çŠ¶æ€**: è·¯ç”±é…ç½®å·²ä¿®å¤ï¼Œæµ‹è¯•é¡µé¢å·²å°±ä½

## ğŸ“ **å½“å‰è·¯ç”±ç»“æ„**

```
app/
â”œâ”€â”€ _layout.tsx                    # æ ¹å¸ƒå±€ï¼ˆStackå¯¼èˆªï¼‰
â”œâ”€â”€ (tabs)/                        # Tabå¯¼èˆªç»„
â”‚   â”œâ”€â”€ _layout.tsx                # Tabå¸ƒå±€é…ç½®
â”‚   â”œâ”€â”€ index.tsx                  # é»˜è®¤Tabï¼ˆé‡å®šå‘åˆ°homepageï¼‰
â”‚   â”œâ”€â”€ homepage/                  # é¦–é¡µTabåŠå­é¡µé¢
â”‚   â”‚   â”œâ”€â”€ _layout.tsx            # é¦–é¡µå­é¡µé¢Stackå¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ index.tsx              # é¦–é¡µä¸»é¡µé¢ â­ å½“å‰æ˜¾ç¤ºæµ‹è¯•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ test-main.tsx          # æµ‹è¯•ç‰ˆé¦–é¡µï¼ˆä¸´æ—¶ï¼‰
â”‚   â”‚   â”œâ”€â”€ debug.tsx              # è·¯ç”±è°ƒè¯•é¡µé¢
â”‚   â”‚   â”œâ”€â”€ search.tsx             # æœç´¢é¡µé¢
â”‚   â”‚   â”œâ”€â”€ service-detail.tsx     # æœåŠ¡è¯¦æƒ…é¡µé¢
â”‚   â”‚   â”œâ”€â”€ location.tsx           # ä½ç½®é€‰æ‹©é¡µé¢
â”‚   â”‚   â”œâ”€â”€ filter-online.tsx      # çº¿ä¸Šç­›é€‰é¡µé¢
â”‚   â”‚   â”œâ”€â”€ event-center.tsx       # ç»„å±€ä¸­å¿ƒé¡µé¢
â”‚   â”‚   â””â”€â”€ featured.tsx           # é™æ—¶ä¸“äº«é¡µé¢
â”‚   â”œâ”€â”€ discover.tsx               # å‘ç°Tab
â”‚   â”œâ”€â”€ publish.tsx                # å‘å¸ƒTab
â”‚   â”œâ”€â”€ messages.tsx               # æ¶ˆæ¯Tab
â”‚   â””â”€â”€ profile.tsx                # æˆ‘çš„Tab
â”œâ”€â”€ modal/                         # æ¨¡æ€é¡µé¢
â”‚   â”œâ”€â”€ user-detail.tsx            # ç”¨æˆ·è¯¦æƒ…æ¨¡æ€
â”‚   â””â”€â”€ filter-panel.tsx           # ç­›é€‰é¢æ¿æ¨¡æ€
â”œâ”€â”€ modal.tsx                      # é»˜è®¤æ¨¡æ€é¡µé¢
â””â”€â”€ test-homepage.tsx              # å…¨å±€æµ‹è¯•é¡µé¢
```

## ğŸ¯ **æµ‹è¯•æ­¥éª¤**

### 1. å¯åŠ¨åº”ç”¨
```bash
expo start
```

### 2. æµ‹è¯•åŸºç¡€å¯¼èˆª
- åº”ç”¨å¯åŠ¨åä¼šæ˜¾ç¤ºåº•éƒ¨5ä¸ªTab
- ç‚¹å‡»"é¦–é¡µ"Tabåº”è¯¥æ˜¾ç¤ºæµ‹è¯•é¡µé¢
- æµ‹è¯•é¡µé¢åŒ…å«æ‰€æœ‰å¯¼èˆªåŠŸèƒ½çš„æµ‹è¯•æŒ‰é’®

### 3. éªŒè¯è·¯ç”±åŠŸèƒ½
æµ‹è¯•é¡µé¢æä¾›äº†ä»¥ä¸‹æµ‹è¯•æŒ‰é’®ï¼š

#### ğŸ” é¡¶éƒ¨åŠŸèƒ½æµ‹è¯•
- **ä½ç½®é€‰æ‹©** â†’ `/(tabs)/homepage/location`
- **æœç´¢åŠŸèƒ½** â†’ `/(tabs)/homepage/search`

#### ğŸ® æœåŠ¡åŠŸèƒ½æµ‹è¯•
- **æœåŠ¡è¯¦æƒ…** â†’ `/(tabs)/homepage/service-detail`

#### â­ ç²¾é€‰åŠŸèƒ½æµ‹è¯•
- **é™æ—¶ä¸“äº«** â†’ `/(tabs)/homepage/featured`
- **ç»„å±€ä¸­å¿ƒ** â†’ `/(tabs)/homepage/event-center`

#### ğŸ”§ å·¥å…·åŠŸèƒ½æµ‹è¯•
- **ç­›é€‰åŠŸèƒ½** â†’ `/(tabs)/homepage/filter-online`

#### ğŸ“± æ¨¡æ€é¡µé¢æµ‹è¯•
- **ç”¨æˆ·è¯¦æƒ…** â†’ `/modal/user-detail`

#### ğŸ—‚ï¸ Tabåˆ‡æ¢æµ‹è¯•
- **å‘ç°** â†’ `/(tabs)/discover`
- **æ¶ˆæ¯** â†’ `/(tabs)/messages`
- **æˆ‘çš„** â†’ `/(tabs)/profile`

## ğŸ”§ **è·¯ç”±ä¿®å¤è®°å½•**

### å·²ä¿®å¤çš„é—®é¢˜ï¼š

1. âœ… **åˆ é™¤å†²çªæ–‡ä»¶** - ç§»é™¤äº†æ—§çš„ `app/(tabs)/explore.tsx`
2. âœ… **ä¿®å¤è·¯å¾„åˆ«å** - æ›´æ–°äº† `tsconfig.json` ä¸­çš„è·¯å¾„é…ç½®
3. âœ… **ç»Ÿä¸€Tabé…ç½®** - ç¡®ä¿Tabå¸ƒå±€æŒ‡å‘æ­£ç¡®çš„æ–‡ä»¶
4. âœ… **ä¿®æ­£å¯¼èˆªè·¯å¾„** - æ›´æ–°MainPageä¸­çš„æ‰€æœ‰å¯¼èˆªè·¯å¾„
5. âœ… **æ›´æ–°è·¯ç”±å¸¸é‡** - ä¿®æ­£äº† `constants.ts` ä¸­çš„è·¯ç”±é…ç½®

### è·¯ç”±é…ç½®è¯¦æƒ…ï¼š

#### Tabå¸ƒå±€ (`app/(tabs)/_layout.tsx`)
```typescript
<Tabs.Screen name="homepage" />  // æŒ‡å‘ /(tabs)/homepage
<Tabs.Screen name="discover" />  // æŒ‡å‘ /(tabs)/discover
<Tabs.Screen name="publish" />   // æŒ‡å‘ /(tabs)/publish
<Tabs.Screen name="messages" />  // æŒ‡å‘ /(tabs)/messages
<Tabs.Screen name="profile" />   // æŒ‡å‘ /(tabs)/profile
```

#### é¦–é¡µå­è·¯ç”± (`app/(tabs)/homepage/_layout.tsx`)
```typescript
<Stack.Screen name="index" />           // é¦–é¡µä¸»é¡µé¢
<Stack.Screen name="search" />          // æœç´¢é¡µé¢
<Stack.Screen name="service-detail" />  // æœåŠ¡è¯¦æƒ…é¡µé¢
<Stack.Screen name="location" />        // ä½ç½®é€‰æ‹©é¡µé¢
<Stack.Screen name="filter-online" />   // ç­›é€‰é¡µé¢
<Stack.Screen name="event-center" />    // ç»„å±€ä¸­å¿ƒé¡µé¢
<Stack.Screen name="featured" />        // é™æ—¶ä¸“äº«é¡µé¢
```

## ğŸš€ **å¯ç”¨å®Œæ•´é¦–é¡µçš„æ­¥éª¤**

å½“è·¯ç”±æµ‹è¯•é€šè¿‡åï¼Œæ‰§è¡Œä»¥ä¸‹æ­¥éª¤å¯ç”¨å®Œæ•´çš„MainPageï¼š

### 1. æ¢å¤çœŸå®é¦–é¡µ
```typescript
// ä¿®æ”¹ app/(tabs)/homepage/index.tsx
import { ErrorBoundary } from '@/src/components';
import MainPage from '@/src/features/Homepage/MainPage';

export default function HomepageScreen() {
  return (
    <ErrorBoundary>
      <MainPage />
    </ErrorBoundary>
  );
}
```

### 2. æ£€æŸ¥ç»„ä»¶å¯¼å…¥
ç¡®ä¿ä»¥ä¸‹è·¯å¾„åˆ«åæ­£ç¡®é…ç½®ï¼š
```json
// tsconfig.json
{
  "paths": {
    "@/*": ["./"],
    "@/src/*": ["./src/*"],
    "@/stores/*": ["./stores/*"],
    "@/services/*": ["./services/*"]
  }
}
```

### 3. éªŒè¯MainPageç»„ä»¶
ç¡®ä¿MainPageç»„ä»¶èƒ½æ­£ç¡®å¯¼å…¥ï¼š
- ZustandçŠ¶æ€ç®¡ç†
- åŒºåŸŸç»„ä»¶ï¼ˆ6ä¸ªï¼‰
- å…±äº«ç»„ä»¶ï¼ˆErrorBoundaryã€LoadingOverlayç­‰ï¼‰

## âš ï¸ **å¯èƒ½é‡åˆ°çš„é—®é¢˜**

### 1. ç»„ä»¶å¯¼å…¥é”™è¯¯
**ç—‡çŠ¶**: "Cannot find module" é”™è¯¯  
**è§£å†³**: æ£€æŸ¥è·¯å¾„åˆ«åé…ç½®ï¼Œç¡®ä¿ç»„ä»¶æ–‡ä»¶å­˜åœ¨

### 2. çŠ¶æ€ç®¡ç†é”™è¯¯
**ç—‡çŠ¶**: Zustand storeå¯¼å…¥å¤±è´¥  
**è§£å†³**: ç¡®ä¿æ‰€æœ‰storeæ–‡ä»¶æ­£ç¡®åˆ›å»ºå¹¶å¯¼å‡º

### 3. å¯¼èˆªå‚æ•°é”™è¯¯
**ç—‡çŠ¶**: è·¯ç”±å‚æ•°ä¼ é€’å¤±è´¥  
**è§£å†³**: æ£€æŸ¥å¯¼èˆªè·¯å¾„å’Œå‚æ•°æ ¼å¼

## ğŸ¯ **ä¸‹ä¸€æ­¥**

1. **æµ‹è¯•è·¯ç”±** - ä½¿ç”¨æµ‹è¯•é¡µé¢éªŒè¯æ‰€æœ‰å¯¼èˆªåŠŸèƒ½
2. **å¯ç”¨çœŸå®é¦–é¡µ** - ç¡®è®¤è·¯ç”±æ­£å¸¸åï¼Œå¯ç”¨å®Œæ•´çš„MainPage
3. **åŠŸèƒ½æµ‹è¯•** - æµ‹è¯•æ‰€æœ‰åŒºåŸŸç»„ä»¶çš„äº¤äº’åŠŸèƒ½
4. **æ€§èƒ½ä¼˜åŒ–** - éªŒè¯æ€§èƒ½ä¼˜åŒ–æªæ–½æ˜¯å¦ç”Ÿæ•ˆ

## ğŸ“ **è°ƒè¯•å·¥å…·**

### è®¿é—®è°ƒè¯•é¡µé¢
å¯¼èˆªåˆ°: `/(tabs)/homepage/debug`

### æŸ¥çœ‹è·¯ç”±æ—¥å¿—
åœ¨æµ‹è¯•é¡µé¢ä¸­ç‚¹å‡»æŒ‰é’®ï¼ŒæŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºçš„å¯¼èˆªæ—¥å¿—

### æ£€æŸ¥è·¯ç”±çŠ¶æ€
ä½¿ç”¨ `usePathname()` hook æŸ¥çœ‹å½“å‰è·¯ç”±çŠ¶æ€

---

**åˆ›å»ºæ—¶é—´**: 2025å¹´9æœˆ  
**å½“å‰ç‰ˆæœ¬**: v1.0.0  
**ç»´æŠ¤è€…**: å¼€å‘å›¢é˜Ÿ
